{"ast":null,"code":"var _jsxFileName = \"/Users/porterrunyon-trapp/CS333/final-project/Final-cs333/frontend/src/components/Todo/Todo.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { TodoInput } from './TodoInput';\nimport { TodoTitle } from './TodoTitle';\nimport { TodoCheckbox } from './TodoCheckbox';\nimport { Button } from '../common/Button';\n\n/**\n * Renders a Todo component.\n *\n * @param {Object} props - The component props.\n * @param {string} props.id - The ID of the todo.\n * @param {Function} props.fetchData - The function to fetch todos.\n * @returns {JSX.Element} The rendered Todo component.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Todo({\n  id,\n  fetchData\n}) {\n  _s();\n  const [todo, setTodo] = useState(null);\n  const [isEdit, setIsEdit] = useState(false);\n  const [tempTitle, setTempTitle] = useState('');\n  const [tempPriority, setTempPriority] = useState('medium'); // State to handle priority\n\n  // Initial fetch\n  useEffect(() => {\n    const fetchDataAsync = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/${id}`);\n        const jsonResponse = await response.json();\n        setTodo(jsonResponse);\n        setTempTitle(jsonResponse.title);\n        setTempPriority(jsonResponse.priority || 'medium'); // Default to 'medium' if priority is not set\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchDataAsync();\n  }, [id]);\n\n  // Update temporary states when todo updates\n  useEffect(() => {\n    if (todo) {\n      setTempTitle(todo.title);\n      setTempPriority(todo.priority);\n    }\n  }, [todo]);\n\n  // ... Other functions remain unchanged\n\n  /**\n   * Handles the priority change event.\n   * @param {Object} e - The event object.\n   */\n  const handlePriorityChange = e => {\n    setTempPriority(e.target.value);\n  };\n\n  /**\n   * Handles the edit functionality.\n   */\n  async function handleEditClick() {\n    if (isEdit) {\n      await handleUpdate({\n        title: tempTitle,\n        priority: tempPriority\n      });\n    }\n    setIsEdit(isEdit => !isEdit);\n  }\n\n  // ... Remaining component logic\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo__items\",\n      children: [/*#__PURE__*/_jsxDEV(TodoCheckbox, {\n        isCompleted: todo === null || todo === void 0 ? void 0 : todo.isCompleted,\n        handleUpdate: handleUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), isEdit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TodoInput, {\n          value: tempTitle,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: tempPriority,\n          onChange: handlePriorityChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"high\",\n            children: \"High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"medium\",\n            children: \"Medium\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"low\",\n            children: \"Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(TodoTitle, {\n        title: todo === null || todo === void 0 ? void 0 : todo.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo__buttons\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: isEdit ? 'btn-success' : 'btn-info',\n        onClick: handleEditClick,\n        children: isEdit ? 'Save' : 'Edit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-danger\",\n        onClick: handleDelete,\n        disabled: isEdit,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Todo, \"DNC40nhjQBQFzpQ94jjvLqIIbC0=\");\n_c = Todo;\nvar _c;\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["useEffect","useState","TodoInput","TodoTitle","TodoCheckbox","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","Todo","id","fetchData","_s","todo","setTodo","isEdit","setIsEdit","tempTitle","setTempTitle","tempPriority","setTempPriority","fetchDataAsync","response","fetch","jsonResponse","json","title","priority","error","console","log","handlePriorityChange","e","target","value","handleEditClick","handleUpdate","className","children","isCompleted","fileName","_jsxFileName","lineNumber","columnNumber","onChange","handleInputChange","onClick","handleDelete","disabled","_c","$RefreshReg$"],"sources":["/Users/porterrunyon-trapp/CS333/final-project/Final-cs333/frontend/src/components/Todo/Todo.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { TodoInput } from './TodoInput';\nimport { TodoTitle } from './TodoTitle';\nimport { TodoCheckbox } from './TodoCheckbox';\nimport { Button } from '../common/Button';\n\n/**\n * Renders a Todo component.\n *\n * @param {Object} props - The component props.\n * @param {string} props.id - The ID of the todo.\n * @param {Function} props.fetchData - The function to fetch todos.\n * @returns {JSX.Element} The rendered Todo component.\n */\nexport function Todo({ id, fetchData }) {\n  const [todo, setTodo] = useState(null);\n  const [isEdit, setIsEdit] = useState(false);\n  const [tempTitle, setTempTitle] = useState('');\n  const [tempPriority, setTempPriority] = useState('medium'); // State to handle priority\n\n  // Initial fetch\n  useEffect(() => {\n    const fetchDataAsync = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/${id}`);\n        const jsonResponse = await response.json();\n        setTodo(jsonResponse);\n        setTempTitle(jsonResponse.title);\n        setTempPriority(jsonResponse.priority || 'medium'); // Default to 'medium' if priority is not set\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchDataAsync();\n  }, [id]);\n\n  // Update temporary states when todo updates\n  useEffect(() => {\n    if (todo) {\n      setTempTitle(todo.title);\n      setTempPriority(todo.priority);\n    }\n  }, [todo]);\n\n  // ... Other functions remain unchanged\n\n  /**\n   * Handles the priority change event.\n   * @param {Object} e - The event object.\n   */\n  const handlePriorityChange = (e) => {\n    setTempPriority(e.target.value);\n  };\n\n  /**\n   * Handles the edit functionality.\n   */\n  async function handleEditClick() {\n    if (isEdit) {\n      await handleUpdate({ title: tempTitle, priority: tempPriority });\n    }\n    setIsEdit((isEdit) => !isEdit);\n  }\n\n  // ... Remaining component logic\n\n  return (\n    <div className='todo'>\n      <div className='todo__items'>\n        <TodoCheckbox isCompleted={todo?.isCompleted} handleUpdate={handleUpdate} />\n        {isEdit\n          ? (\n              <>\n                <TodoInput value={tempTitle} onChange={handleInputChange} />\n                <select value={tempPriority} onChange={handlePriorityChange}>\n                  <option value=\"high\">High</option>\n                  <option value=\"medium\">Medium</option>\n                  <option value=\"low\">Low</option>\n                </select>\n              </>\n            )\n          : <TodoTitle title={todo?.title} />\n        }\n      </div>\n      <div className='todo__buttons'>\n        <Button \n          className={isEdit ? 'btn-success' : 'btn-info'}\n          onClick={handleEditClick}\n        >\n          {isEdit ? 'Save' : 'Edit'}\n        </Button>\n        <Button \n          className='btn-danger'\n          onClick={handleDelete} \n          disabled={isEdit}\n        >\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,MAAM,QAAQ,kBAAkB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAQA,OAAO,SAASC,IAAIA,CAAC;EAAEC,EAAE;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmB,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;;EAE5D;EACAD,SAAS,CAAC,MAAM;IACd,MAAMsB,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,yBAAwBb,EAAG,EAAC,CAAC;QAC3D,MAAMc,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAC1CX,OAAO,CAACU,YAAY,CAAC;QACrBN,YAAY,CAACM,YAAY,CAACE,KAAK,CAAC;QAChCN,eAAe,CAACI,YAAY,CAACG,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC;MACtD,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACF,CAAC;IACDP,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACX,EAAE,CAAC,CAAC;;EAER;EACAX,SAAS,CAAC,MAAM;IACd,IAAIc,IAAI,EAAE;MACRK,YAAY,CAACL,IAAI,CAACa,KAAK,CAAC;MACxBN,eAAe,CAACP,IAAI,CAACc,QAAQ,CAAC;IAChC;EACF,CAAC,EAAE,CAACd,IAAI,CAAC,CAAC;;EAEV;;EAEA;AACF;AACA;AACA;EACE,MAAMkB,oBAAoB,GAAIC,CAAC,IAAK;IAClCZ,eAAe,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;;EAED;AACF;AACA;EACE,eAAeC,eAAeA,CAAA,EAAG;IAC/B,IAAIpB,MAAM,EAAE;MACV,MAAMqB,YAAY,CAAC;QAAEV,KAAK,EAAET,SAAS;QAAEU,QAAQ,EAAER;MAAa,CAAC,CAAC;IAClE;IACAH,SAAS,CAAED,MAAM,IAAK,CAACA,MAAM,CAAC;EAChC;;EAEA;;EAEA,oBACET,OAAA;IAAK+B,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBhC,OAAA;MAAK+B,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BhC,OAAA,CAACH,YAAY;QAACoC,WAAW,EAAE1B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE0B,WAAY;QAACH,YAAY,EAAEA;MAAa;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC3E5B,MAAM,gBAEDT,OAAA,CAAAE,SAAA;QAAA8B,QAAA,gBACEhC,OAAA,CAACL,SAAS;UAACiC,KAAK,EAAEjB,SAAU;UAAC2B,QAAQ,EAAEC;QAAkB;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC5DrC,OAAA;UAAQ4B,KAAK,EAAEf,YAAa;UAACyB,QAAQ,EAAEb,oBAAqB;UAAAO,QAAA,gBAC1DhC,OAAA;YAAQ4B,KAAK,EAAC,MAAM;YAAAI,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClCrC,OAAA;YAAQ4B,KAAK,EAAC,QAAQ;YAAAI,QAAA,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACtCrC,OAAA;YAAQ4B,KAAK,EAAC,KAAK;YAAAI,QAAA,EAAC;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC;MAAA,eACT,CAAC,gBAELrC,OAAA,CAACJ,SAAS;QAACwB,KAAK,EAAEb,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEa;MAAM;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAElC,CAAC,eACNrC,OAAA;MAAK+B,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BhC,OAAA,CAACF,MAAM;QACLiC,SAAS,EAAEtB,MAAM,GAAG,aAAa,GAAG,UAAW;QAC/C+B,OAAO,EAAEX,eAAgB;QAAAG,QAAA,EAExBvB,MAAM,GAAG,MAAM,GAAG;MAAM;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACTrC,OAAA,CAACF,MAAM;QACLiC,SAAS,EAAC,YAAY;QACtBS,OAAO,EAAEC,YAAa;QACtBC,QAAQ,EAAEjC,MAAO;QAAAuB,QAAA,EAClB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/B,EAAA,CAvFeH,IAAI;AAAAwC,EAAA,GAAJxC,IAAI;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}