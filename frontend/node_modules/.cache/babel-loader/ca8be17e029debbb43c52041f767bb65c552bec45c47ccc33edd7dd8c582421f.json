{"ast":null,"code":"var _jsxFileName = \"/Users/porterrunyon-trapp/CS333/final-project/Final-cs333/frontend/src/components/Todo/Todo.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { TodoInput } from './TodoInput';\nimport { TodoTitle } from './TodoTitle';\nimport { TodoCheckbox } from './TodoCheckbox';\nimport { Button } from '../common/Button';\n\n/**\n * Renders a Todo component.\n *\n * @param {Object} props - The component props.\n * @param {string} props.id - The ID of the todo.\n * @param {Function} props.fetchData - The function to fetch todos.\n * @param {Function} props.handleUpdate - The function to update a todo.\n * @param {Function} props.handleDelete - The function to delete a todo.\n * @returns {JSX.Element} The rendered Todo component.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Todo({\n  id,\n  fetchData,\n  handleUpdate,\n  handleDelete\n}) {\n  _s();\n  const [todo, setTodo] = useState(null);\n  const [isEdit, setIsEdit] = useState(false);\n  const [tempTitle, setTempTitle] = useState('');\n  const [tempPriority, setTempPriority] = useState('medium'); // State to handle priority\n\n  // Initial fetch\n  useEffect(() => {\n    const fetchDataAsync = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/todos/${id}`);\n        const jsonResponse = await response.json();\n        setTodo(jsonResponse);\n        setTempTitle(jsonResponse.title);\n        setTempPriority(jsonResponse.priority || 'medium'); // Default to 'medium' if priority is not set\n      } catch (error) {\n        console.error('Error fetching todo:', error);\n      }\n    };\n    fetchDataAsync();\n  }, [id]);\n\n  // Update temporary states when todo updates\n  useEffect(() => {\n    if (todo) {\n      setTempTitle(todo.title);\n      setTempPriority(todo.priority);\n    }\n  }, [todo]);\n\n  /**\n   * Handles the change event of the input element.\n   * @param {Object} e - The event object.\n   */\n  const handleInputChange = e => {\n    setTempTitle(e.target.value);\n  };\n\n  /**\n   * Handles the priority change event.\n   * @param {Object} e - The event object.\n   */\n  const handlePriorityChange = e => {\n    setTempPriority(e.target.value);\n  };\n\n  /**\n   * Handles the edit functionality.\n   */\n  async function handleEditClick() {\n    if (isEdit) {\n      await handleUpdate(id, {\n        title: tempTitle,\n        priority: tempPriority\n      });\n      fetchData(); // Assuming fetchData will re-fetch the updated todos\n    }\n    setIsEdit(!isEdit);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo__items\",\n      children: [/*#__PURE__*/_jsxDEV(TodoCheckbox, {\n        isCompleted: todo === null || todo === void 0 ? void 0 : todo.isCompleted,\n        handleUpdate: handleUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), isEdit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TodoInput, {\n          value: tempTitle,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: tempPriority,\n          onChange: handlePriorityChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"high\",\n            children: \"High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"medium\",\n            children: \"Medium\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"low\",\n            children: \"Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(TodoTitle, {\n        title: todo === null || todo === void 0 ? void 0 : todo.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo__buttons\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: isEdit ? 'btn-success' : 'btn-info',\n        onClick: handleEditClick,\n        children: isEdit ? 'Save' : 'Edit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-danger\",\n        onClick: () => handleDelete(id),\n        disabled: isEdit,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Todo, \"DNC40nhjQBQFzpQ94jjvLqIIbC0=\");\n_c = Todo;\nvar _c;\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["useEffect","useState","TodoInput","TodoTitle","TodoCheckbox","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","Todo","id","fetchData","handleUpdate","handleDelete","_s","todo","setTodo","isEdit","setIsEdit","tempTitle","setTempTitle","tempPriority","setTempPriority","fetchDataAsync","response","fetch","jsonResponse","json","title","priority","error","console","handleInputChange","e","target","value","handlePriorityChange","handleEditClick","className","children","isCompleted","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/porterrunyon-trapp/CS333/final-project/Final-cs333/frontend/src/components/Todo/Todo.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { TodoInput } from './TodoInput';\nimport { TodoTitle } from './TodoTitle';\nimport { TodoCheckbox } from './TodoCheckbox';\nimport { Button } from '../common/Button';\n\n/**\n * Renders a Todo component.\n *\n * @param {Object} props - The component props.\n * @param {string} props.id - The ID of the todo.\n * @param {Function} props.fetchData - The function to fetch todos.\n * @param {Function} props.handleUpdate - The function to update a todo.\n * @param {Function} props.handleDelete - The function to delete a todo.\n * @returns {JSX.Element} The rendered Todo component.\n */\nexport function Todo({ id, fetchData, handleUpdate, handleDelete }) {\n  const [todo, setTodo] = useState(null);\n  const [isEdit, setIsEdit] = useState(false);\n  const [tempTitle, setTempTitle] = useState('');\n  const [tempPriority, setTempPriority] = useState('medium'); // State to handle priority\n\n  // Initial fetch\n  useEffect(() => {\n    const fetchDataAsync = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/todos/${id}`);\n        const jsonResponse = await response.json();\n        setTodo(jsonResponse);\n        setTempTitle(jsonResponse.title);\n        setTempPriority(jsonResponse.priority || 'medium'); // Default to 'medium' if priority is not set\n      } catch (error) {\n        console.error('Error fetching todo:', error);\n      }\n    };\n    fetchDataAsync();\n  }, [id]);\n\n  // Update temporary states when todo updates\n  useEffect(() => {\n    if (todo) {\n      setTempTitle(todo.title);\n      setTempPriority(todo.priority);\n    }\n  }, [todo]);\n\n  /**\n   * Handles the change event of the input element.\n   * @param {Object} e - The event object.\n   */\n  const handleInputChange = (e) => {\n    setTempTitle(e.target.value);\n  };\n\n  /**\n   * Handles the priority change event.\n   * @param {Object} e - The event object.\n   */\n  const handlePriorityChange = (e) => {\n    setTempPriority(e.target.value);\n  };\n\n  /**\n   * Handles the edit functionality.\n   */\n  async function handleEditClick() {\n    if (isEdit) {\n      await handleUpdate(id, { title: tempTitle, priority: tempPriority });\n      fetchData(); // Assuming fetchData will re-fetch the updated todos\n    }\n    setIsEdit(!isEdit);\n  }\n\n  return (\n    <div className='todo'>\n      <div className='todo__items'>\n        <TodoCheckbox isCompleted={todo?.isCompleted} handleUpdate={handleUpdate} />\n        {isEdit ? (\n          <>\n            <TodoInput value={tempTitle} onChange={handleInputChange} />\n            <select value={tempPriority} onChange={handlePriorityChange}>\n              <option value=\"high\">High</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"low\">Low</option>\n            </select>\n          </>\n        ) : (\n          <TodoTitle title={todo?.title} />\n        )}\n      </div>\n      <div className='todo__buttons'>\n        <Button \n          className={isEdit ? 'btn-success' : 'btn-info'}\n          onClick={handleEditClick}\n        >\n          {isEdit ? 'Save' : 'Edit'}\n        </Button>\n        <Button \n          className='btn-danger'\n          onClick={() => handleDelete(id)} \n          disabled={isEdit}\n        >\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}